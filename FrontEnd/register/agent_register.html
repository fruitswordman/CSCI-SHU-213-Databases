<!DOCTYPE html>
<html lang="en">

<head>
    <title>Customer Registration</title>
    <link rel="stylesheet" href="agent_register.css">
</head>

<body>
    <div class="container">
        <h2>Booking Agent Registration</h2>
        <form id="BookingAgentRegForm">
            <!-- Add relevant input fields for customer registration -->

            <label for="Name">Name:</label>
            <input type="text" id="Name" name="Name" placeholder="Your name">

            <label for="email">Email (Username):</label>
            <input type="email" id="email" name="email" placeholder="Email (Username)">

            <label for="password">Password:</label>
            <input type="password" id="password" name="password" placeholder="Password">

            <button type="submit">Register</button>


        </form>
    </div>


    <!-- JavaScript for handling form -->
    <script>
        document.getElementById("BookingAgentRegForm").addEventListener('submit', function (event) {
            event.preventDefault();

            const name = document.getElementById("Name").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            registerBooking(
                name,
                email,
                password
            );

        });

        function registerBooking(name, email, password) {
            const url = new URL('http://127.0.0.1:5000/api/register_booking_agent');
            const params = {
                name,
                email,
                password
            };

            console.log(params);
            url.search = new URLSearchParams(params).toString();

            fetch(url)
                .then(response => response.json())
                .then(message => {
                    window.location.href = 'index.html';
                    console.log(message);
                })
                .catch(error => {
                    console.error('Error registering Booking agent:', error);
                });
        }
    </script>
</body>

</html>